<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>单例模式</title>
</head>
<body>
  <div>
    单例模式
  </div>
  <script>
    /*
      单例模式
        单：单一
        例：实例
        一个构造函数一生只有一个实例
        不管new 多少次，都是这一个实例
        
      应用
        自定义弹出层

      核心代码
        let instance = null
        function singleTon () {
          if(!instance) instance = 实例对象
          return instance
        }
    */

    function person () {
          this.name = 'ckk'
    }

    let instance = null
    function singleTon () {
      if(!instance) instance = new person()
      return instance
    }
    
    // 正常状态下未实现单例模式
    // let p1 = new person()
    // let p2 = new person()
    // 通过函数实现单例模式
    let p1 = singleTon()
    let p2 = singleTon()
    console.log(p1 ,p2)
    console.log(p1 == p2)
  </script>
</body>
</html>